!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=10)}([function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return v}));class r{constructor(){this._events={}}on(e,t,n={}){this._events[e]=this._events[e]||[],this._events[e].push({fn:t,options:n})}off(e,t){const n=this._events[e]||[];this._events[e]=n.filter(e=>e.fn!==t)}find(e){return this._events[e]}run(e,...t){let n=this._events[e]||[];return console.assert(n&&n.length>0,"No subscriber for event: "+e),this._events[e]=n.filter(e=>!e.options.once),n.forEach(n=>{const{fn:r,options:s}=n;return s.delay?this.delay(e,r,t,s):r.apply(this,t),!n.options.once}),n.length}once(e,t,n={}){this.on(e,t,Object.assign(Object.assign({},n),{once:!0}))}delay(e,t,n,r){r._t&&clearTimeout(r._t),r._t=setTimeout(()=>{clearTimeout(r._t),t.apply(this,n)},r.delay)}}let s;const i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;i.app&&i._AppRunVersions?s=i.app:(s=new r,i.app=s,i._AppRunVersions="AppRun-2");var o=s;let a=0;function l(e){const t=[],n=e=>{null!=e&&""!==e&&!1!==e&&t.push("function"==typeof e||"object"==typeof e?e:`${e}`)};return e&&e.forEach(e=>{Array.isArray(e)?e.forEach(e=>n(e)):n(e)}),t}const c={},u=function(e,t,n={}){null!=t&&!1!==t&&(t=function e(t,n,r=0){if(0===r&&(a=0),"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t,n,a));let s=t;return t&&"function"==typeof t.tag&&Object.getPrototypeOf(t.tag).t&&(s=function(e,t,n){const{tag:r,props:s,children:i}=e;let a=`_${n}`,l=s&&s.id;l?a=l:l=`_${n}${Date.now()}`,t.s||(t.s={});let c=t.s[a];c?l=c.i:(c=t.s[a]=new r(Object.assign(Object.assign({},s),{children:i})).mount(l),c.i=l);let u=c.state;if(c.mounted){const e=c.mounted(s,i,u);void 0!==e&&(u=c.state=e)}if(u instanceof Promise){const e=e=>{c.element=e,c.setState(u)};return o.createElement("section",Object.assign({},s,{id:l,ref:t=>e(t)}))}{const e=c._view(u,s),t=t=>{c.element=t,c.renderState(u,e)};return o.createElement("section",Object.assign({},s,{id:l,ref:e=>t(e)}),e)}}(t,n,a++)),s&&Array.isArray(s.children)&&(s.children=s.children.map(t=>e(t,n,a))),s}(t,n),e&&(Array.isArray(t)?h(e,t):h(e,[t])))};function d(e,t){console.assert(!!e),function(e,t){const n=e.nodeName,r=`${t.tag||""}`;return n.toUpperCase()===r.toUpperCase()}(e,t)?(h(e,t.children),f(e,t.props)):e.parentNode.replaceChild(m(t),e)}function h(e,t){const n=Math.min(e.childNodes.length,t.length);for(let r=0;r<n;r++){const n=t[r],s=e.childNodes[r];if(n instanceof HTMLElement)e.insertBefore(n,s);else if("string"==typeof n)s.textContent!==n&&(3===s.nodeType?s.textContent=n:e.replaceChild(p(n),s));else{const t=n.props&&n.props.key;if(t)if(s.key===t)d(e.childNodes[r],n);else{const i=c[t];i?(e.insertBefore(i,s),e.appendChild(s),d(e.childNodes[r],n)):e.insertBefore(m(n),s)}else d(e.childNodes[r],n)}}let r=e.childNodes.length;for(;r>n;)e.removeChild(e.lastChild),r--;if(t.length>n){const r=document.createDocumentFragment();for(let e=n;e<t.length;e++)r.appendChild(m(t[e]));e.appendChild(r)}}function p(e){if(0===e.indexOf("_html:")){const t=document.createElement("div");return t.insertAdjacentHTML("afterbegin",e.substring(6)),t}return document.createTextNode(e)}function m(e,t=!1){if(console.assert(null!=e),e instanceof HTMLElement||e instanceof SVGElement)return e;if("string"==typeof e)return p(e);if(!e.tag||"function"==typeof e.tag)return p(JSON.stringify(e));const n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);return f(n,e.props),e.children&&e.children.forEach(e=>n.appendChild(m(e,t))),n}function f(e,t){console.assert(!!e);const n=e._props||{};t=function(e,t){t.class=t.class||t.className,delete t.className;const n={};return e&&Object.keys(e).forEach(e=>n[e]=null),t&&Object.keys(t).forEach(e=>n[e]=t[e]),n}(n,t||{}),e._props=t;for(const n in t){const r=t[n];if("style"===n){e.style.cssText&&(e.style.cssText="");for(const t in r)e.style[t]!==r[t]&&(e.style[t]=r[t])}else if(n.startsWith("data-")){const t=n.substring(5).replace(/-(\w)/g,e=>e[1].toUpperCase());e.dataset[t]!==r&&(r||""===r?e.dataset[t]=r:delete e.dataset[t])}else"id"===n||"class"===n||n.startsWith("role")||n.indexOf("-")>0||e instanceof SVGElement?e.getAttribute(n)!==r&&(r?e.setAttribute(n,r):e.removeAttribute(n)):e[n]!==r&&(e[n]=r);"key"===n&&r&&(c[r]=e)}t&&"function"==typeof t.ref&&window.requestAnimationFrame(()=>t.ref(e))}const g=(e,t={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return Object.assign({},t).observedAttributes}connectedCallback(){if(this.isConnected&&!this._component){const n=t||{};this._shadowRoot=n.shadow?this.attachShadow({mode:"open"}):this;const r={};Array.from(this.attributes).forEach(e=>r[e.name]=e.value);const s=this.children?Array.from(this.children):[];if(s.forEach(e=>e.parentElement.removeChild(e)),this._component=new e(Object.assign(Object.assign({},r),{children:s})).mount(this._shadowRoot,n),this._component.mounted){const e=this._component.mounted(r,s,this._component.state);void 0!==e&&(this._component.state=e)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==n.render&&this._component.run(".")}}disconnectedCallback(){this._component.unload&&this._component.unload(),this._component.unmount(),this._component=null}attributeChangedCallback(...e){this._component&&this._component.run("attributeChanged",...e)}};var b=(e,t,n)=>{"undefined"!=typeof customElements&&customElements.define(e,g(t,n))};const y={meta:new WeakMap,defineMetadata(e,t,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[e]=t},getMetadataKeys(e){return e=Object.getPrototypeOf(e),this.meta.get(e)?Object.keys(this.meta.get(e)):[]},getMetadata(e,t){return t=Object.getPrototypeOf(t),this.meta.get(t)?this.meta.get(t)[e]:null}};function v(e,t={}){return function(n,r){const s=e?e.toString():r;y.defineMetadata(`apprun-update:${s}`,{name:s,key:r,options:t},n)}}function w(e,t){return function(n){return b(e,n,t),n}}const E=(e,t)=>(t?e.state[t]:e.state)||"",_=(e,t,n)=>{if(t){const r=Object.assign({},e.state);r[t]=n,e.setState(r)}else e.setState(n)},x={};o.on("get-components",e=>e.components=x);const k=e=>e;class O{constructor(e,t,n,s){this.state=e,this.view=t,this.update=n,this.options=s,this._app=new r,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(e=null,t={render:!0})=>this.mount(e,Object.assign(Object.assign({},t),{render:!0}))}render(e,t){o.render(e,t,this)}_view(e,t=null){if(!this.view)return;const n=o.createElement;o.createElement=(e,t,...r)=>(t&&Object.keys(t).forEach(n=>{n.startsWith("$")&&(((e,t,n,r)=>{if(e.startsWith("$on")){const n=t[e];if(e=e.substring(1),"boolean"==typeof n)t[e]=t=>r.run(e,t);else if("string"==typeof n)t[e]=e=>r.run(n,e);else if("function"==typeof n)t[e]=e=>r.setState(n(r.state,e));else if(Array.isArray(n)){const[s,...i]=n;"string"==typeof s?t[e]=e=>r.run(s,...i,e):"function"==typeof s&&(t[e]=e=>r.setState(s(r.state,...i,e)))}}else if("$bind"===e){const s=t.type||"text",i="string"==typeof t[e]?t[e]:t.name;if("input"===n)switch(s){case"checkbox":t.checked=E(r,i),t.onclick=e=>_(r,i||e.target.name,e.target.checked);break;case"radio":t.checked=E(r,i)===t.value,t.onclick=e=>_(r,i||e.target.name,e.target.value);break;case"number":case"range":t.value=E(r,i),t.oninput=e=>_(r,i||e.target.name,Number(e.target.value));break;default:t.value=E(r,i),t.oninput=e=>_(r,i||e.target.name,e.target.value)}else"select"===n?(t.value=E(r,i),t.onchange=e=>{e.target.multiple||_(r,i||e.target.name,e.target.value)}):"option"===n&&(t.selected=E(r,i),t.onclick=e=>_(r,i||e.target.name,e.target.selected))}else o.run("$",{key:e,tag:n,props:t,component:r})})(n,t,e,this),delete t[n])}),n(e,t,...r));const r=t?this.view(e,t):this.view(e);return o.createElement=n,r}renderState(e,t=null){if(!this.view)return;const n=t||this._view(e);if(o.debug&&o.run("debug",{component:this,state:e,vdom:n||"[vdom is null - no render]"}),"object"!=typeof document)return;const r="string"==typeof this.element?document.getElementById(this.element):this.element;if(r){const e="_c";this.unload?r._component===this&&r.getAttribute(e)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),r.setAttribute(e,this.tracking_id),"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver(e=>{e[0].oldValue!==this.tracking_id&&document.body.contains(r)||(this.unload(this.state),this.observer.disconnect(),this.observer=null)})),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[e]}))):r.removeAttribute&&r.removeAttribute(e),r._component=this}t||this.render(r,n),this.rendered&&this.rendered(this.state)}setState(e,t={render:!0,history:!1}){if(e instanceof Promise)e.then(e=>{this.setState(e,t)}).catch(e=>{throw console.error(e),e}),this._state=e;else{if(this._state=e,null==e)return;this.state=e,!1!==t.render&&this.renderState(e),!1!==t.history&&this.enable_history&&(this._history=[...this._history,e],this._history_idx=this._history.length-1),"function"==typeof t.callback&&t.callback(this.state)}}mount(e=null,t){var n,r;if(console.assert(!this.element,"Component already mounted."),this.options=t=Object.assign(Object.assign({},this.options),t),this.element=e,this.global_event=t.global_event,this.enable_history=!!t.history,this.enable_history&&(this.on(t.history.prev||"history-prev",this._history_prev),this.on(t.history.next||"history-next",this._history_next)),this.add_actions(),this.state=null!=(r=null!=(n=this.state)?n:this.model)?r:{},t.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),o.debug){const t="string"==typeof e?e:e.id;x[t]=x[t]||[],x[t].push(this)}return this}is_global_event(e){return e&&(this.global_event||this._global_events.indexOf(e)>=0||e.startsWith("#")||e.startsWith("/")||e.startsWith("@"))}add_action(e,t,n={}){t&&"function"==typeof t&&(n.global&&this._global_events.push(e),this.on(e,(...r)=>{const s=t(this.state,...r);o.debug&&o.run("debug",{component:this,event:e,e:r,state:this.state,newState:s,options:n}),this.setState(s,n)},n))}add_actions(){const e=this.update||{};y.getMetadataKeys(this).forEach(t=>{if(t.startsWith("apprun-update:")){const n=y.getMetadata(t,this);e[n.name]=[this[n.key].bind(this),n.options]}});const t={};Array.isArray(e)?e.forEach(e=>{const[n,r,s]=e;n.toString().split(",").forEach(e=>t[e.trim()]=[r,s])}):Object.keys(e).forEach(n=>{const r=e[n];("function"==typeof r||Array.isArray(r))&&n.split(",").forEach(e=>t[e.trim()]=r)}),t["."]||(t["."]=k),Object.keys(t).forEach(e=>{const n=t[e];"function"==typeof n?this.add_action(e,n):Array.isArray(n)&&this.add_action(e,n[0],n[1])})}run(e,...t){const n=e.toString();return this.is_global_event(n)?o.run(n,...t):this._app.run(n,...t)}on(e,t,n){const r=e.toString();return this._actions.push({name:r,fn:t}),this.is_global_event(r)?o.on(r,t,n):this._app.on(r,t,n)}unmount(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this._actions.forEach(e=>{const{name:t,fn:n}=e;this.is_global_event(t)?o.off(t,n):this._app.off(t,n)})}}O.t=!0;const j=e=>{if(e||(e="#"),e.startsWith("#")){const[t,...n]=e.split("/");o.run(t,...n)||o.run("///",t,...n),o.run("//",t,...n)}else if(e.startsWith("/")){const[t,n,...r]=e.split("/");o.run("/"+n,...r)||o.run("///","/"+n,...r),o.run("//","/"+n,...r)}else o.run(e)||o.run("///",e),o.run("//",e)};o.createElement=function(e,t,...n){const r=l(n);if("string"==typeof e)return{tag:e,props:t,children:r};if(Array.isArray(e))return e;if(void 0===e&&n)return r;if(Object.getPrototypeOf(e).t)return{tag:e,props:t,children:r};if("function"==typeof e)return e(t,r);throw new Error(`Unknown tag in vdom ${e}`)},o.render=function(e,t,n){u(e,t,n)},o.Fragment=function(e,...t){return l(t)},o.webComponent=b,o.start=(e,t,n,r,s)=>{const i=Object.assign(Object.assign({},s),{render:!0,global_event:!0}),o=new O(t,n,r);return s&&s.rendered&&(o.rendered=s.rendered),o.mount(e,i),o};const A=e=>{};o.on("$",A),o.on("debug",e=>A),o.on("//",A),o.on("#",A),o.route=j,o.on("route",e=>o.route&&o.route(e)),"object"==typeof document&&document.addEventListener("DOMContentLoaded",()=>{o.route===j&&(window.onpopstate=()=>j(location.hash),j(location.hash))}),"object"==typeof window&&(window.Component=O,window.React=o),t.d=o}).call(this,n(12))},function(e,t){const n=/[&<>"']/,r=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,i=/[<>"']|&(?!#?\w+;)/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=e=>o[e];const l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function c(e){return e.replace(l,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const u=/(^|[^\[])\^/g;const d=/[^\w:]/g,h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const p={},m=/^[^:]+:\/*[^/]*$/,f=/^([^:]+:)[\s\S]*$/,g=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(e,t){p[" "+e]||(m.test(e)?p[" "+e]=e+"/":p[" "+e]=y(e,"/",!0));const n=-1===(e=p[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(f,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(g,"$1")+t:e+t}function y(e,t,n){const r=e.length;if(0===r)return"";let s=0;for(;s<r;){const i=e.charAt(r-s-1);if(i!==t||n){if(i===t||!n)break;s++}else s++}return e.substr(0,r-s)}e.exports={escape:function(e,t){if(t){if(n.test(e))return e.replace(r,a)}else if(s.test(e))return e.replace(i,a);return e},unescape:c,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(u,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(c(n)).replace(d,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!h.test(n)&&(n=b(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:b,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let r=!1,s=t;for(;--s>=0&&"\\"===n[s];)r=!r;return r?"|":" |"}).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:y,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,s=0;for(;s<n;s++)if("\\"===e[s])s++;else if(e[s]===t[0])r++;else if(e[s]===t[1]&&(r--,r<0))return s;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}},function(e,t){function n(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:n,changeDefaults:function(t){e.exports.defaults=t}}},function(e,t,n){const r=n(13),s=n(14),i=n(4),o=n(8),a=n(7),l=n(6),{merge:c,checkSanitizeDeprecation:u,escape:d}=n(1),{getDefaults:h,changeDefaults:p,defaults:m}=n(2);function f(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),t=c({},f.defaults,t||{}),u(t);const i=t.highlight;let o,a,l=0;try{o=r.lex(e,t)}catch(e){return n(e)}a=o.length;const d=function(e){if(e)return t.highlight=i,n(e);let r;try{r=s.parse(o,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,r)};if(!i||i.length<3)return d();if(delete t.highlight,!a)return d();for(;l<o.length;l++)!function(e){"code"!==e.type?--a||d():i(e.text,e.lang,(function(t,n){return t?d(t):null==n||n===e.text?--a||d():(e.text=n,e.escaped=!0,void(--a||d()))}))}(o[l])}else try{return t=c({},f.defaults,t||{}),u(t),s.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||f.defaults).silent)return"<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";throw e}}f.options=f.setOptions=function(e){return c(f.defaults,e),p(f.defaults),f},f.getDefaults=h,f.defaults=m,f.Parser=s,f.parser=s.parse,f.Renderer=i,f.TextRenderer=o,f.Lexer=r,f.lexer=r.lex,f.InlineLexer=a,f.inlineLexer=a.output,f.Slugger=l,f.parse=f,e.exports=f},function(e,t,n){const{defaults:r}=n(2),{cleanUrl:s,escape:i}=n(1);e.exports=class{constructor(e){this.options=e||r}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class="'+this.options.langPrefix+i(r,!0)+'">'+(n?e:i(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:i(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=s(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+i(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=s(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}},function(e,t,n){const{noopTest:r,edit:s,merge:i}=n(1),o={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:r,table:r,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};o.def=s(o.def).replace("label",o._label).replace("title",o._title).getRegex(),o.bullet=/(?:[*+-]|\d{1,9}\.)/,o.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,o.item=s(o.item,"gm").replace(/bull/g,o.bullet).getRegex(),o.list=s(o.list).replace(/bull/g,o.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+o.def.source+")").getRegex(),o._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",o._comment=/<!--(?!-?>)[\s\S]*?-->/,o.html=s(o.html,"i").replace("comment",o._comment).replace("tag",o._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),o.paragraph=s(o._paragraph).replace("hr",o.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",o._tag).getRegex(),o.blockquote=s(o.blockquote).replace("paragraph",o.paragraph).getRegex(),o.normal=i({},o),o.gfm=i({},o.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),o.pedantic=i({},o.normal,{html:s("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",o._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:r,paragraph:s(o.normal._paragraph).replace("hr",o.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",o.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const a={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:r,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:r,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};a.em=s(a.em).replace(/punctuation/g,a._punctuation).getRegex(),a._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,a._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,a._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,a.autolink=s(a.autolink).replace("scheme",a._scheme).replace("email",a._email).getRegex(),a._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,a.tag=s(a.tag).replace("comment",o._comment).replace("attribute",a._attribute).getRegex(),a._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,a._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,a._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,a.link=s(a.link).replace("label",a._label).replace("href",a._href).replace("title",a._title).getRegex(),a.reflink=s(a.reflink).replace("label",a._label).getRegex(),a.normal=i({},a),a.pedantic=i({},a.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",a._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",a._label).getRegex()}),a.gfm=i({},a.normal,{escape:s(a.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),a.gfm.url=s(a.gfm.url,"i").replace("email",a.gfm._extended_email).getRegex(),a.breaks=i({},a.gfm,{br:s(a.br).replace("{2,}","*").getRegex(),text:s(a.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.exports={block:o,inline:a}},function(e,t){e.exports=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}}},function(e,t,n){const r=n(4),{defaults:s}=n(2),{inline:i}=n(5),{findClosingBracket:o,escape:a}=n(1);e.exports=class e{constructor(e,t){if(this.options=t||s,this.links=e,this.rules=i.normal,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}static get rules(){return i}static output(t,n,r){return new e(n,r).output(t)}output(t){let n,r,s,i,l,c,u="";for(;t;)if(l=this.rules.escape.exec(t))t=t.substring(l[0].length),u+=a(l[1]);else if(l=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(l[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(l[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.inRawBlock=!1),t=t.substring(l[0].length),u+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):a(l[0]):l[0];else if(l=this.rules.link.exec(t)){const r=o(l[2],"()");if(r>-1){const e=(0===l[0].indexOf("!")?5:4)+l[1].length+r;l[2]=l[2].substring(0,r),l[0]=l[0].substring(0,e).trim(),l[3]=""}t=t.substring(l[0].length),this.inLink=!0,s=l[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s),n?(s=n[1],i=n[3]):i=""):i=l[3]?l[3].slice(1,-1):"",s=s.trim().replace(/^<([\s\S]*)>$/,"$1"),u+=this.outputLink(l,{href:e.escapes(s),title:e.escapes(i)}),this.inLink=!1}else if((l=this.rules.reflink.exec(t))||(l=this.rules.nolink.exec(t))){if(t=t.substring(l[0].length),n=(l[2]||l[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){u+=l[0].charAt(0),t=l[0].substring(1)+t;continue}this.inLink=!0,u+=this.outputLink(l,n),this.inLink=!1}else if(l=this.rules.strong.exec(t))t=t.substring(l[0].length),u+=this.renderer.strong(this.output(l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.em.exec(t))t=t.substring(l[0].length),u+=this.renderer.em(this.output(l[6]||l[5]||l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.code.exec(t))t=t.substring(l[0].length),u+=this.renderer.codespan(a(l[2].trim(),!0));else if(l=this.rules.br.exec(t))t=t.substring(l[0].length),u+=this.renderer.br();else if(l=this.rules.del.exec(t))t=t.substring(l[0].length),u+=this.renderer.del(this.output(l[1]));else if(l=this.rules.autolink.exec(t))t=t.substring(l[0].length),"@"===l[2]?(r=a(this.mangle(l[1])),s="mailto:"+r):(r=a(l[1]),s=r),u+=this.renderer.link(s,null,r);else if(this.inLink||!(l=this.rules.url.exec(t))){if(l=this.rules.text.exec(t))t=t.substring(l[0].length),this.inRawBlock?u+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):a(l[0]):l[0]):u+=this.renderer.text(a(this.smartypants(l[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===l[2])r=a(l[0]),s="mailto:"+r;else{do{c=l[0],l[0]=this.rules._backpedal.exec(l[0])[0]}while(c!==l[0]);r=a(l[0]),s="www."===l[1]?"http://"+r:r}t=t.substring(l[0].length),u+=this.renderer.link(s,null,r)}return u}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const n=t.href,r=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,a(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let n,r="",s=0;for(;s<t;s++)n=e.charCodeAt(s),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}}},function(e,t){e.exports=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return v}));class r{constructor(){this._events={}}on(e,t,n={}){this._events[e]=this._events[e]||[],this._events[e].push({fn:t,options:n})}off(e,t){const n=this._events[e]||[];this._events[e]=n.filter(e=>e.fn!==t)}find(e){return this._events[e]}run(e,...t){let n=this._events[e]||[];return console.assert(n&&n.length>0,"No subscriber for event: "+e),this._events[e]=n.filter(e=>!e.options.once),n.forEach(n=>{const{fn:r,options:s}=n;return s.delay?this.delay(e,r,t,s):r.apply(this,t),!n.options.once}),n.length}once(e,t,n={}){this.on(e,t,Object.assign(Object.assign({},n),{once:!0}))}delay(e,t,n,r){r._t&&clearTimeout(r._t),r._t=setTimeout(()=>{clearTimeout(r._t),t.apply(this,n)},r.delay)}}let s;const i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;i.app&&i._AppRunVersions?s=i.app:(s=new r,i.app=s,i._AppRunVersions="AppRun-2");var o=s;let a=0;const l="_props";function c(e){const t=[],n=e=>{null!=e&&""!==e&&!1!==e&&t.push("function"==typeof e||"object"==typeof e?e:`${e}`)};return e&&e.forEach(e=>{Array.isArray(e)?e.forEach(e=>n(e)):n(e)}),t}const u={};function d(e,t){console.assert(!!e),function(e,t){const n=e.nodeName,r=`${t.tag||""}`;return n.toUpperCase()===r.toUpperCase()}(e,t)?(h(e,t.children),f(e,t.props)):e.parentNode.replaceChild(m(t),e)}function h(e,t){const n=Math.min(e.childNodes.length,t.length);for(let r=0;r<n;r++){const n=t[r],s=e.childNodes[r];if(n instanceof HTMLElement)e.insertBefore(n,s);else if("string"==typeof n)s.textContent!==n&&(3===s.nodeType?s.textContent=n:e.replaceChild(p(n),s));else{const t=n.props&&n.props.key;if(t)if(s.key===t)d(e.childNodes[r],n);else{const i=u[t];i?(e.insertBefore(i,s),e.appendChild(s),d(e.childNodes[r],n)):e.insertBefore(m(n),s)}else d(e.childNodes[r],n)}}let r=e.childNodes.length;for(;r>n;)e.removeChild(e.lastChild),r--;if(t.length>n){const r=document.createDocumentFragment();for(let e=n;e<t.length;e++)r.appendChild(m(t[e]));e.appendChild(r)}}function p(e){if(0===e.indexOf("_html:")){const t=document.createElement("div");return t.insertAdjacentHTML("afterbegin",e.substring(6)),t}return document.createTextNode(e)}function m(e,t=!1){if(console.assert(null!=e),e instanceof HTMLElement||e instanceof SVGElement)return e;if("string"==typeof e)return p(e);if(!e.tag||"function"==typeof e.tag)return p(JSON.stringify(e));const n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag);return f(n,e.props),e.children&&e.children.forEach(e=>n.appendChild(m(e,t))),n}function f(e,t){console.assert(!!e);const n=e[l]||{};t=function(e,t){t.class=t.class||t.className,delete t.className;const n={};return e&&Object.keys(e).forEach(e=>n[e]=null),t&&Object.keys(t).forEach(e=>n[e]=t[e]),n}(n,t||{}),e[l]=t;for(const n in t){const r=t[n];if("style"===n){e.style.cssText&&(e.style.cssText="");for(const t in r)e.style[t]!==r[t]&&(e.style[t]=r[t])}else if(n.startsWith("data-")){const t=n.substring(5).replace(/-(\w)/g,e=>e[1].toUpperCase());e.dataset[t]!==r&&(r||""===r?e.dataset[t]=r:delete e.dataset[t])}else"id"===n||"class"===n||n.startsWith("role")||n.indexOf("-")>0||e instanceof SVGElement?e.getAttribute(n)!==r&&(r?e.setAttribute(n,r):e.removeAttribute(n)):e[n]!==r&&(e[n]=r);"key"===n&&r&&(u[r]=e)}t&&"function"==typeof t.ref&&window.requestAnimationFrame(()=>t.ref(e))}const g=(e,t={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return Object.assign({},t).observedAttributes}connectedCallback(){if(this.isConnected&&!this._component){const n=Object.assign({render:!0,shadow:!1},t);this._shadowRoot=n.shadow?this.attachShadow({mode:"open"}):this;const r={};Array.from(this.attributes).forEach(e=>r[e.name]=e.value);const s=this.children?Array.from(this.children):[];s.forEach(e=>e.parentElement.removeChild(e)),this._component=new e(Object.assign(Object.assign({},r),{children:s})).mount(this._shadowRoot,n),this._component.mounted&&this._component.mounted(r,s),this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component)}}disconnectedCallback(){this._component.unmount(),this._component=null}attributeChangedCallback(...e){this._component&&this._component.run("attributeChanged",...e)}};var b=(e,t,n)=>{"undefined"!=typeof customElements&&customElements.define(e,g(t,n))};const y={meta:new WeakMap,defineMetadata(e,t,n){this.meta.has(n)||this.meta.set(n,{}),this.meta.get(n)[e]=t},getMetadataKeys(e){return e=Object.getPrototypeOf(e),this.meta.get(e)?Object.keys(this.meta.get(e)):[]},getMetadata(e,t){return t=Object.getPrototypeOf(t),this.meta.get(t)?this.meta.get(t)[e]:null}};function v(e,t){return function(n){return b(e,n,t),n}}const w=(e,t)=>(t?e.state[t]:e.state)||"",E=(e,t,n)=>{if(t){const r=Object.assign({},e.state);r[t]=n,e.setState(r)}else e.setState(n)},_={};o.on("get-components",e=>e.components=_);const x=e=>e;class k{constructor(e,t,n,s){this.state=e,this.view=t,this.update=n,this.options=s,this._app=new r,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(e=null,t={render:!0})=>this.mount(e,Object.assign(Object.assign({},t),{render:!0}))}render(e,t){o.render(e,t,this)}_view(e,t=null){if(!this.view)return;const n=o.createElement;o.createElement=(e,t,...r)=>(t&&Object.keys(t).forEach(n=>{n.startsWith("$")&&(((e,t,n,r)=>{if(e.startsWith("$on")){const n=t[e];if(e=e.substring(1),"boolean"==typeof n)t[e]=t=>r.run(e,t);else if("string"==typeof n)t[e]=e=>r.run(n,e);else if("function"==typeof n)t[e]=e=>r.setState(n(r.state,e));else if(Array.isArray(n)){const[s,...i]=n;"string"==typeof s?t[e]=e=>r.run(s,...i,e):"function"==typeof s&&(t[e]=e=>r.setState(s(r.state,...i,e)))}}else if("$bind"===e){const s=t.type||"text",i="string"==typeof t[e]?t[e]:t.name;if("input"===n)switch(s){case"checkbox":t.checked=w(r,i),t.onclick=e=>E(r,i||e.target.name,e.target.checked);break;case"radio":t.checked=w(r,i)===t.value,t.onclick=e=>E(r,i||e.target.name,e.target.value);break;case"number":case"range":t.value=w(r,i),t.oninput=e=>E(r,i||e.target.name,Number(e.target.value));break;default:t.value=w(r,i),t.oninput=e=>E(r,i||e.target.name,e.target.value)}else"select"===n?(t.value=w(r,i),t.onchange=e=>{e.target.multiple||E(r,i||e.target.name,e.target.value)}):"option"===n&&(t.selected=w(r,i),t.onclick=e=>E(r,i||e.target.name,e.target.selected))}else o.run("$",{key:e,tag:n,props:t,component:r})})(n,t,e,this),delete t[n])}),n(e,t,...r));const r=t?this.view(e,t):this.view(e);return o.createElement=n,r}renderState(e){if(!this.view)return;const t=this._view(e);if(o.debug&&o.run("debug",{component:this,state:e,vdom:t||"[vdom is null - no render]"}),"object"!=typeof document)return;const n="string"==typeof this.element?document.getElementById(this.element):this.element;if(n){const e="_c";if(this.unload){if(n._component!==this&&(this.tracking_id=(new Date).valueOf().toString(),n.setAttribute(e,this.tracking_id),"undefined"!=typeof MutationObserver)){const t=new MutationObserver(e=>{const{removedNodes:r,oldValue:s}=e[0];(s===this.tracking_id||Array.from(r).indexOf(n)>=0)&&(this.unload(this.state),t.disconnect())});n.parentNode&&t.observe(n.parentNode,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[e]})}}else n.removeAttribute&&n.removeAttribute(e);n._component=this}this.render(n,t),this.rendered&&this.rendered(this.state)}setState(e,t={render:!0,history:!1}){if(e instanceof Promise)e.then(e=>{this.setState(e,t)}).catch(e=>{throw console.error(e),e}),this._state=e;else{if(this._state=e,null==e)return;this.state=e,!1!==t.render&&this.renderState(e),!1!==t.history&&this.enable_history&&(this._history=[...this._history,e],this._history_idx=this._history.length-1),"function"==typeof t.callback&&t.callback(this.state)}}mount(e=null,t){if(console.assert(!this.element,"Component already mounted."),this.options=t=Object.assign(Object.assign({},this.options),t),this.element=e,this.global_event=t.global_event,this.enable_history=!!t.history,this.enable_history&&(this.on(t.history.prev||"history-prev",this._history_prev),this.on(t.history.next||"history-next",this._history_next)),this.add_actions(),void 0===this.state&&(this.state=null!=this.model?this.model:{}),t.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),o.debug){const t="string"==typeof e?e:e.id;_[t]=_[t]||[],_[t].push(this)}return this}is_global_event(e){return e&&(this.global_event||this._global_events.indexOf(e)>=0||e.startsWith("#")||e.startsWith("/")||e.startsWith("@"))}add_action(e,t,n={}){t&&"function"==typeof t&&(n.global&&this._global_events.push(e),this.on(e,(...r)=>{const s=t(this.state,...r);o.debug&&o.run("debug",{component:this,event:e,e:r,state:this.state,newState:s,options:n}),this.setState(s,n)},n))}add_actions(){const e=this.update||{};y.getMetadataKeys(this).forEach(t=>{if(t.startsWith("apprun-update:")){const n=y.getMetadata(t,this);e[n.name]=[this[n.key].bind(this),n.options]}});const t={};Array.isArray(e)?e.forEach(e=>{const[n,r,s]=e;n.toString().split(",").forEach(e=>t[e.trim()]=[r,s])}):Object.keys(e).forEach(n=>{const r=e[n];("function"==typeof r||Array.isArray(r))&&n.split(",").forEach(e=>t[e.trim()]=r)}),t["."]||(t["."]=x),Object.keys(t).forEach(e=>{const n=t[e];"function"==typeof n?this.add_action(e,n):Array.isArray(n)&&this.add_action(e,n[0],n[1])})}run(e,...t){const n=e.toString();return this.is_global_event(n)?o.run(n,...t):this._app.run(n,...t)}on(e,t,n){const r=e.toString();return this._actions.push({name:r,fn:t}),this.is_global_event(r)?o.on(r,t,n):this._app.on(r,t,n)}unmount(){this._actions.forEach(e=>{const{name:t,fn:n}=e;this.is_global_event(t)?o.off(t,n):this._app.off(t,n)})}}k.t=!0;const O=e=>{if(e||(e="#"),e.startsWith("#")){const[t,...n]=e.split("/");o.run(t,...n)||o.run("///",t,...n),o.run("//",t,...n)}else if(e.startsWith("/")){const[t,n,...r]=e.split("/");o.run("/"+n,...r)||o.run("///","/"+n,...r),o.run("//","/"+n,...r)}else o.run(e)||o.run("///",e),o.run("//",e)};o.createElement=function(e,t,...n){const r=c(n);if("string"==typeof e)return{tag:e,props:t,children:r};if(Array.isArray(e))return e;if(void 0===e&&n)return r;if(Object.getPrototypeOf(e).t)return{tag:e,props:t,children:r};if("function"==typeof e)return e(t,r);throw new Error(`Unknown tag in vdom ${e}`)},o.render=function(e,t,n){!function(e,t,n={}){null!=t&&(t=function e(t,n,r=0){if(0===r&&(a=0),"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t,n,a));let s=t;return t&&"function"==typeof t.tag&&Object.getPrototypeOf(t.tag).t&&(s=function(e,t,n){const{tag:r,props:s,children:i}=e;let a=`_${n}`,l=s&&s.id;l?a=l:l=`_${n}${Date.now()}`,t.s||(t.s={});let c=t.s[a];c?l=c.i:(c=t.s[a]=new r(Object.assign(Object.assign({},s),{children:i})).mount(l)).i=l;let u=c.state;if(c.mounted){const e=c.mounted(s,i);void 0!==e&&(u=c.state=e)}let d="";return c.view&&(u instanceof Promise?u.then(()=>c.run(".")):(d=c._view(u,s),c.rendered&&requestAnimationFrame(()=>c.rendered(u,s)))),o.createElement("section",Object.assign({},s,{id:l}),d)}(t,n,a++)),s&&Array.isArray(s.children)&&(s.children=s.children.map(t=>e(t,n,a))),s}(t,n),e&&(Array.isArray(t)?h(e,t):h(e,[t])))}(e,t,n)},o.Fragment=function(e,...t){return c(t)},o.webComponent=b,o.start=(e,t,n,r,s)=>{const i=Object.assign(Object.assign({},s),{render:!0,global_event:!0}),o=new k(t,n,r);return s&&s.rendered&&(o.rendered=s.rendered),o.mount(e,i),o};const j=e=>{};o.on("$",j),o.on("debug",e=>j),o.on("//",j),o.on("#",j),o.route=O,o.on("route",e=>o.route&&o.route(e)),"object"==typeof document&&document.addEventListener("DOMContentLoaded",()=>{o.route===O&&(window.onpopstate=()=>O(location.hash),O(location.hash))}),"object"==typeof window&&(window.Component=k,window.React=o),t.d=o}).call(this,n(2))},function(e,t,n){"use strict";n.r(t);var r=n(0);t.default={start:e=>{e||(e={nav:[],pages:[],eventRoot:"/"}),(({eventRoot:e,pages:t})=>{const n=e||"/",s=t.map(e=>{const t=e[0].replace(/^\/|\#/,"");return`${n}${t}/`}).sort((e,t)=>t.split("/").length-e.split("/").length),i=(e,t)=>{t&&t.preventDefault();let i=e=e.replace(/\/$/,"")+"/";for(let t=0;t<s.length;t++)if(e.startsWith(s[t])){i=s[t];break}const o=e.replace(i,"").split("/").filter(e=>e.length>0);i=i.replace(/\/$/,"").substring(n.length),i=n[0]+i,r.d.run(i,...o)||r.d.run(`${n[0]}_404`)};if(r.d.route=i,n.startsWith("#"))document.addEventListener("DOMContentLoaded",()=>{window.onpopstate=()=>i(location.hash),i(location.hash)});else if(n.startsWith("/")){document.addEventListener("DOMContentLoaded",()=>{window.onpopstate=()=>i(location.pathname),i(location.pathname)}),window.onclick=t=>e(t);const e=e=>{const t=e.target;let n=t.href;n&&n.startsWith(document.location.origin)&&(e.preventDefault(),history.pushState(null,"",t.pathname),i(t.pathname))}}})(e),e.layout&&r.d.render(document.body,r.d.createElement(e.layout,Object.assign({},e)));const t=e.element||document.body;e.pages.forEach(e=>{const[n,s]=e,i=(new s).mount(t);r.d.on(n,(...e)=>i.run(".",...e))})}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}])},function(e,t,n){n(11),e.exports=n(15)},function(e,t,n){"use strict";n.r(t),t.default=n.p+"style.css"},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){const{defaults:r}=n(2),{block:s}=n(5),{rtrim:i,splitCells:o,escape:a}=n(1);e.exports=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||r,this.rules=s.normal,this.options.pedantic?this.rules=s.pedantic:this.options.gfm&&(this.rules=s.gfm)}static get rules(){return s}static lex(t,n){return new e(n).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){let n,r,l,c,u,d,h,p,m,f,g,b,y,v,w,E;for(e=e.replace(/^ +$/gm,"");e;)if((l=this.rules.newline.exec(e))&&(e=e.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(l[0].length),t&&"paragraph"===t.type?t.text+="\n"+l[0].trimRight():(l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?l:i(l,"\n")}))}else if(l=this.rules.fences.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"code",lang:l[2]?l[2].trim():l[2],text:l[3]||""});else if(l=this.rules.heading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});else if((l=this.rules.nptable.exec(e))&&(d={type:"table",header:o(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]},d.header.length===d.align.length)){for(e=e.substring(l[0].length),g=0;g<d.align.length;g++)/^ *-+: *$/.test(d.align[g])?d.align[g]="right":/^ *:-+: *$/.test(d.align[g])?d.align[g]="center":/^ *:-+ *$/.test(d.align[g])?d.align[g]="left":d.align[g]=null;for(g=0;g<d.cells.length;g++)d.cells[g]=o(d.cells[g],d.header.length);this.tokens.push(d)}else if(l=this.rules.hr.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"hr"});else if(l=this.rules.blockquote.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,t),this.tokens.push({type:"blockquote_end"});else if(l=this.rules.list.exec(e)){for(e=e.substring(l[0].length),c=l[2],v=c.length>1,h={type:"list_start",ordered:v,start:v?+c:"",loose:!1},this.tokens.push(h),l=l[0].match(this.rules.item),p=[],n=!1,y=l.length,g=0;g<y;g++)d=l[g],f=d.length,d=d.replace(/^ *([*+-]|\d+\.) */,""),~d.indexOf("\n ")&&(f-=d.length,d=this.options.pedantic?d.replace(/^ {1,4}/gm,""):d.replace(new RegExp("^ {1,"+f+"}","gm"),"")),g!==y-1&&(u=s.bullet.exec(l[g+1])[0],(c.length>1?1===u.length:u.length>1||this.options.smartLists&&u!==c)&&(e=l.slice(g+1).join("\n")+e,g=y-1)),r=n||/\n\n(?!\s*$)/.test(d),g!==y-1&&(n="\n"===d.charAt(d.length-1),r||(r=n)),r&&(h.loose=!0),w=/^\[[ xX]\] /.test(d),E=void 0,w&&(E=" "!==d[1],d=d.replace(/^\[[ xX]\] +/,"")),m={type:"list_item_start",task:w,checked:E,loose:r},p.push(m),this.tokens.push(m),this.token(d,!1),this.tokens.push({type:"list_item_end"});if(h.loose)for(y=p.length,g=0;g<y;g++)p[g].loose=!0;this.tokens.push({type:"list_end"})}else if(l=this.rules.html.exec(e))e=e.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):a(l[0]):l[0]});else if(t&&(l=this.rules.def.exec(e)))e=e.substring(l[0].length),l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),b=l[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[b]||(this.tokens.links[b]={href:l[2],title:l[3]});else if((l=this.rules.table.exec(e))&&(d={type:"table",header:o(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]},d.header.length===d.align.length)){for(e=e.substring(l[0].length),g=0;g<d.align.length;g++)/^ *-+: *$/.test(d.align[g])?d.align[g]="right":/^ *:-+: *$/.test(d.align[g])?d.align[g]="center":/^ *:-+ *$/.test(d.align[g])?d.align[g]="left":d.align[g]=null;for(g=0;g<d.cells.length;g++)d.cells[g]=o(d.cells[g].replace(/^ *\| *| *\| *$/g,""),d.header.length);this.tokens.push(d)}else if(l=this.rules.lheading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:"="===l[2].charAt(0)?1:2,text:l[1]});else if(t&&(l=this.rules.paragraph.exec(e)))e=e.substring(l[0].length),this.tokens.push({type:"paragraph",text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1]});else if(l=this.rules.text.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}}},function(e,t,n){const r=n(4),s=n(6),i=n(7),o=n(8),{defaults:a}=n(2),{merge:l,unescape:c}=n(1);e.exports=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||a,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new s}static parse(t,n){return new e(n).parse(t)}parse(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,l({},this.options,{renderer:new o})),this.tokens=e.reverse();let t="";for(;this.next();)t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;for(;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,n,r,s,i="";for(r="",t=0;t<this.token.header.length;t++)r+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(r),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],r="",s=0;s<n.length;s++)r+=this.renderer.tablecell(this.inline.output(n[s]),{header:!1,align:this.token.align[s]});e+=this.renderer.tablerow(r)}return this.renderer.table(i,e)}case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,t,n)}case"list_item_start":{e="";const t=this.token.loose,n=this.token.checked,r=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(n)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else e+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,r,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}}},function(e,t,n){"use strict";n.r(t);var r=n(9),s=n.n(r),i=n(0),o=class extends i.a{constructor(){super(...arguments),this.view=e=>'_html:<h1 id="about">About</h1>\n<p>This is a page made from a markdown file. It also has embedded a web component to demonstrate async fetch.</p>\n<p><my-xkcd></my-xkcd></p>\n<p>Try edit src/pages/about.md file to change the content here.</p>\n'}},a=class extends i.a{constructor(){super(...arguments),this.state="This is a page made from an AppRun component. It has embedded a counter web component.",this.view=e=>i.b.createElement(i.b.Fragment,null,i.b.createElement("h1",null,"Contact"),i.b.createElement("div",null,e),i.b.createElement("my-counter",null),i.b.createElement("br",null),i.b.createElement("br",null),i.b.createElement("div",null,"Try edit src/pages/contact.tsx file to change the content here."))}},l=class extends i.a{constructor(){super(...arguments),this.view=e=>{i.b.run("/README")},this.rendered=e=>{console.log(e)}}},c=class extends i.a{constructor(){super(...arguments),this.view=e=>{i.b.run("/README")}}},u=class extends i.a{constructor(){super(...arguments),this.view=e=>'_html:<h1 id="hyperblog-pilot-built-with-apprun">HyperBlog Pilot built with AppRun</h1>\n<p>This is an application built using <a href="https://github.com/yysun/apprun-site">AppRun Site</a>, an framework for building <a href="https://github.com/yysun/apprun">AppRun</a> applications.</p>\n<p>It incotporates <a href="https://github.com/gothinkster/apprun-realworld-example-app">AppRun RealWorld example</a>\n<img src="https://github.com/gothinkster/apprun-realworld-example-app/raw/master/logo.png" alt="alt text" title="Logo Title Text 1"> as is and adds a switch that turns the application into a decentralized, offline-first, trully serverless, People-centered Capability enabling them ti run their own social indieweb blogging site, where their retain ownership and control over their contributions and can span and control their own social network of followers.</p>\n<h2 id="features">Features</h2>\n<ul>\n<li>Progressive Web App (PWA) - support offline</li>\n<li>Single Page App (SPA) - routing using / or #</li>\n<li>4 built-in layouts and bring your own</li>\n<li>Compile html, markdown pages to AppRun components</li>\n<li>Auto generate the index of pages</li>\n<li>Build app logic using AppRun/Web components</li>\n<li>Targets ES5 or ES Module</li>\n<li>Extensible through plugins (WIP)</li>\n</ul>\n<h2 id="project-structure">Project Structure</h2>\n<p>This app has the following structure.</p>\n<pre><code>public/\nsrc/\n  components/\n  layout/\n  layout-bootstrap/\n  layout-coreui/\n  layout-material/\n  pages/\n    home.tsx\n    contact.tsx\n    about.tsx\n  index.tsx   &lt;=== main entry\n  tsconfig.json\n.gitignore\npackage.json\nwebpack.config.js\n</code></pre>\n<h2 id="run-the-application">Run the Application</h2>\n<p>Use <em>npm</em> commands</p>\n<ul>\n<li>Use <em>npm install</em> to install apprun, typescript and webpack</li>\n<li>Use <em>npm start</em> to start the dev server</li>\n<li>Use <em>npm run build</em> to build for production</li>\n</ul>\n<h2 id="public-directory">Public Directory</h2>\n<p>The <strong>public</strong> directory contains the files you can deploy to your hosting server after running <em>npm run build</em>.</p>\n<h2 id="layout">Layout</h2>\n<p>There are four layouts included under the <strong>src/</strong> directory for you to try out.</p>\n<ul>\n<li>Default - best for documentation site</li>\n<li>Bootstrap - start point of bootstrap</li>\n<li>CoreUI - best for admin UI / business apps</li>\n<li>Material Design - best for mobile web app</li>\n</ul>\n<h3 id="switch-layouts">Switch Layouts</h3>\n<p>You can rename the layout directory to switch the layouts.</p>\n<ul>\n<li>\n<p>To use the bootstrap layout, rename <em>layout-bootstrap</em> to <em>layout</em></p>\n</li>\n<li>\n<p>To use the coreUI layout, rename <em>layout-coreui</em> to <em>layout</em></p>\n</li>\n<li>\n<p>To use the material layout, rename <em>layout-material</em> to <em>layout</em></p>\n</li>\n</ul>\n<h3 id="use-your-own-layout">Use Your Own Layout</h3>\n<p>If you have your own design, you can create your own layout component and put it in the layout directory.</p>\n<h2 id="pages">Pages</h2>\n<p>The pages are under the <strong>src/pages</strong> directory. The pages can be AppRun components, HTML files or markdown files.</p>\n<p>There are sample pages:</p>\n<ul>\n<li>Home: A page that redirects to /README.md</li>\n<li>Contact: An AppRun component page with a web component inside</li>\n<li>About: An markdown page has a web component to demonstrate async fetch</li>\n</ul>\n<blockquote>\n<p>Try to edit the sample pages. And add or delete some pages. If you have started the app using <em>npm start</em>, you changes should be displayed in the browser automatically.</p>\n</blockquote>\n<h2 id="pwa">PWA</h2>\n<p>This application includes a service worker from <a href="https://www.pwabuilder.com/">PWA Builder</a>.</p>\n<p>The service worker is the advanced caching service worker that allows you to configure files and routes that are cached in different manners (pre-cache, network/server first, cache first, etc.).</p>\n<h3 id="register%2Fun-register-the-service-worker">Register/Un-register the Service Worker</h3>\n<p>To register/un-register the service worker, include/exclude the script in the header section of the <strong>index.html</strong> file.</p>\n<pre><code>&lt;script src=&quot;sw-init.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<h3 id="configure-the-service-worker">Configure the Service Worker</h3>\n<p>To configure the service worker, open and edit the <strong>public/sw.js</strong> file.</p>\n<pre><code class="language-javascript">const CACHE = &quot;my-apprun-site&quot;;\nconst precacheFiles = [\n  &quot;index.html&quot;,\n  &quot;app.js&quot;,\n  &quot;style.css&quot;\n];\n\n// TODO: replace the following with the correct offline fallback page i.e.: const offlineFallbackPage = &quot;offline.html&quot;;\nconst offlineFallbackPage = &quot;offline.html&quot;;\n\nconst networkFirstPaths = [\n  /* Add an array of regex of paths that should go network first */\n  // Example: //api/.*/\n];\n\nconst avoidCachingPaths = [\n  /* Add an array of regex of paths that shouldn\'t be cached */\n  // Example: //api/.*/\n  //sockjs-node/*/\n];\n\n</code></pre>\n<h2 id="ready-for-more-information">Ready for More Information</h2>\n<p>Please visit <a href="https://yysun.github.io/apprun-site/">AppRun Site Documentation</a>.</p>\n<p>Happy Coding.</p>\n'}},d=class extends i.a{constructor(){super(...arguments),this.state="This is a page made from an AppRun component. It has embedded a counter web component.",this.view=e=>i.b.createElement(i.b.Fragment,null,e,i.b.createElement("div",{id:"my-app"}))}};i.b.on("#",(e,...t)=>{i.b.run(`#/${e||""}`,...t)});var h=[["/about",o],["/contact",a],["/home",l],["/",c],["/README",u],["/signin",d],["/_404",class extends i.a{constructor(){super(...arguments),this.state="404",this.view=e=>i.b.createElement("div",null,e)}}]];let p=class extends i.a{constructor(){super(...arguments),this.state=0,this.view=e=>i.b.createElement(i.b.Fragment,null,i.b.createElement("h1",null,e),i.b.createElement("button",{$onclick:"-1"},"-1"),i.b.createElement("button",{$onclick:"+1"},"+1")),this.update={"-1":e=>e-1,"+1":e=>e+1}}};p=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Object(i.c)("my-counter")],p);var m=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};let f=class extends i.a{constructor(){super(...arguments),this.state={},this.view=e=>i.b.createElement(i.b.Fragment,null,i.b.createElement("div",null,i.b.createElement("button",{$onclick:"fetchComic"},"XKCD")),e.loading?i.b.createElement("div",null,"loading ... "):"",e.comic&&i.b.createElement(i.b.Fragment,null,i.b.createElement("h3",null,e.comic.title),i.b.createElement("img",{src:e.comic.url}))),this.update={loading:(e,t)=>Object.assign(Object.assign({},e),{loading:t}),fetchComic:e=>m(this,void 0,void 0,(function*(){this.run("loading",!0);const e=yield fetch("https://xkcd-imgs.herokuapp.com/"),t=yield e.json();return this.run("loading",!1),{comic:t}}))}}};f=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Object(i.c)("my-xkcd")],f);class g extends i.a{constructor(){super(...arguments),this.state={},this.view=e=>{const t=e.user;return i.d.createElement("ul",{class:"nav navbar-nav pull-xs-right"},i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:"nav-link active",href:"#/"},"Home")),t&&i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:"nav-link",href:"#/editor"},i.d.createElement("i",{class:"ion-compose"})," New Post")),t&&i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:"nav-link",href:"#/settings"},i.d.createElement("i",{class:"ion-gear-a"})," Settings")),!t&&i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:"nav-link",href:"#/login"},"Sign In")),!t&&i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:"nav-link",href:"#/register"},"Sign Up")),t&&i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:"nav-link",href:`#/profile/${t.username}`},t.username)),t&&i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:"nav-link",href:"#/logout"},"Sign Out")))},this.setUser=(e,t)=>Object.assign(Object.assign({},e),{user:t})}}(function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);i>3&&o&&Object.defineProperty(t,n,o)})([Object(i.e)("/set-user")],g.prototype,"setUser",void 0);(new g).start("header");var b=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};let y=window&&window.localStorage&&window.localStorage.getItem("jwt")||"";function v(e){y=e,window.localStorage&&(e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt"))}function w(e,t,n){return b(this,void 0,void 0,(function*(){const r={"Content-Type":"application/json; charset=utf-8"};y&&(r.Authorization=`Token ${y}`);const s=yield window.fetch(`${defaultBasePath}${t}`,{method:e,headers:r,body:n&&JSON.stringify(n)});if(401===s.status)throw v(null),new Error("401");const i=yield s.json();if(!s.ok)throw i;return i}))}function E(e){return w("GET",e)}function _(e,t){return w("POST",e,t)}function x(e){return w("DELETE",e)}function k(e,t){return w("PUT",e,t)}function O(e){const t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function j(e){let t={};if("object"==typeof e&&"FORM"==e.nodeName)for(let n=0;n<e.elements.length;n++){const r=e.elements[n];if(r.name&&"file"!=r.type&&"reset"!=r.type&&"submit"!=r.type&&"button"!=r.type)if("select-multiple"==r.type){t[r.name]="";let s="";for(let t=0;t<e.elements[n].options.length;t++)r.options[t].selected&&(s+=r.options[t].value+";");";"===s.charAt(s.length-1)&&(t[r.name]=s.substring(0,s.length-1))}else("checkbox"!=r.type&&"radio"!=r.type||r.checked)&&(t[r.name]=r.value)}return t}var A=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};window.defaultBasePath="https://conduit.productionready.io/api";const S=()=>E("/tags"),$=()=>y?E("/user"):null,R=e=>_("/users/login",{user:e}),C=e=>_("/users",{user:e}),P=e=>k("/user",{user:e}),T=()=>!!i.d.user||i.d.run("#/login")&&!1,D=e=>E(`/articles?${O(e)}`),M=e=>E(`/articles/feed?${O(e)}`),L=e=>E(`/articles/${e}`),z=e=>x(`/articles/${e}`),N=e=>_(`/articles/${e}/favorite`),U=e=>x(`/articles/${e}/favorite`),q=e=>k(`/articles/${e.slug}`,{article:e}),W=e=>_("/articles",{article:e}),F=(e,t)=>_(`/articles/${e}/comments`,{comment:t}),I=(e,t)=>x(`/articles/${e}/comments/${t}`),B=e=>E(`/articles/${e}/comments`),Z=e=>E(`/profiles/${e}`),H=e=>_(`/profiles/${e}/follow`),V=e=>x(`/profiles/${e}/follow`);function K(e){const t=e.article,n=t.favorited?"btn-primary":"btn-outline-primary";return i.d.createElement("div",{class:"article-preview"},i.d.createElement("div",{class:"article-meta"},i.d.createElement("a",{href:t.author.image},i.d.createElement("img",{src:t.author.image})),i.d.createElement("div",{class:"info"},i.d.createElement("a",{href:`#/profile/${t.author.username}`,class:"author"},t.author.username),i.d.createElement("span",{class:"date"},new Date(t.updatedAt).toLocaleString())),i.d.createElement("button",{class:`btn btn-sm pull-xs-right ${n}`,onclick:n=>i.d.run("toggle-fav-article",t,e.component)},i.d.createElement("i",{class:"ion-heart"})," ",t.favoritesCount)),i.d.createElement("a",{href:`#/article/${t.slug}`,class:"preview-link"},i.d.createElement("h1",null,t.title),i.d.createElement("p",null,t.description),i.d.createElement("span",null,"Read more..."),i.d.createElement("ul",{class:"tag-list"},t.tagList.map(e=>i.d.createElement("li",{class:"tag-default tag-pill tag-outline"},i.d.createElement("a",{href:`#/tag/${e}`},e," "))))))}i.d.on("/get-user",()=>A(void 0,void 0,void 0,(function*(){try{const e=yield $();e&&i.d.run("/set-user",e.user)}catch(e){v(null),document.location.reload(!0)}}))),i.d.on("/set-user",e=>{i.d.user=e,v(e?e.token:null)}),i.d.on("/toggle-follow",(e,t)=>A(void 0,void 0,void 0,(function*(){if(!T())return;const n=e.following?yield V(e.username):yield H(e.username);t.run("update-follow",n.profile)}))),i.d.on("/toggle-fav-article",(e,t)=>A(void 0,void 0,void 0,(function*(){if(!T())return;const n=e.favorited?yield U(e.slug):yield N(e.slug);t.run("update-article",n.article)})));var G=function({articles:e,component:t}){return e.length?e.map(e=>i.d.createElement(K,{article:e,component:t})):i.d.createElement("div",{class:"article-preview"},"No articles are here... yet.")},Y=function({max:e,selected:t,link:n}){const r=new Array(e).fill(0);return i.d.createElement("nav",null,i.d.createElement("ul",{class:"pagination"},r.map((e,r)=>i.d.createElement("li",{class:`page-item ${r+1===t?"active":""}`},i.d.createElement("a",{href:`${n}/${r+1}`,class:"page-link"},r+1)))))},J=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},X=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const Q=({tag:e})=>i.d.createElement("a",{href:`#/tag/${e}/1`,class:"tag-pill tag-default"},e);class ee extends i.a{constructor(){super(...arguments),this.state={type:"",articles:[],tags:[],max:1,page:1},this.view=e=>{const t="tag"===e.type&&e.tag?`/${e.tag}`:"";return i.d.createElement("div",{class:"home-page"},i.d.createElement("div",{class:"banner"},i.d.createElement("div",{class:"container"},i.d.createElement("h1",{class:"logo-font"},"conduit"),i.d.createElement("p",null,"A place to share your knowledge."))),i.d.createElement("div",{class:"container page"},i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-md-9"},i.d.createElement("div",{class:"feed-toggle"},i.d.createElement("ul",{class:"nav nav-pills outline-active"},i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:`nav-link ${i.d.user?"":"disabled"} ${"feed"===e.type?"active":""}`,href:"#/feed"},"Your Feed")),i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:`nav-link ${""===e.type?"active":""}`,href:"#/"},"Global Feed")),e.tag?i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:`nav-link ${"tag"===e.type?"active":""}`,href:`#/tag/${e.tag}`},"#",e.tag)):"")),i.d.createElement(G,{articles:e.articles,component:this}),i.d.createElement(Y,{max:Math.floor(e.max/10),selected:e.page,link:`#/${e.type}${t}`})),i.d.createElement("div",{class:"col-md-3"},i.d.createElement("div",{class:"sidebar"},i.d.createElement("p",null,"Popular Tags"),i.d.createElement("div",{class:"tag-list"},e.tags.map(e=>i.d.createElement(Q,{tag:e}))))))))},this.updateState=(e,t,n,r)=>X(this,void 0,void 0,(function*(){try{let s=e.tags.length?{tags:e.tags}:yield S();n=parseInt(n)||1,r=r||e.tag;const i=10,o=10*(n-1);let a;switch(t){case"feed":if(!T())return Object.assign(Object.assign({},e),{articles:[],max:0});a=yield M({limit:i,offset:o});break;case"tag":a=yield D({tag:r,limit:i,offset:o});break;default:a=yield D({limit:i,offset:o})}return n=Math.min(n,Math.floor(a.articlesCount/10)+1),Object.assign(Object.assign({},e),{tags:s.tags,type:t,page:n,tag:r,articles:a.articles,max:a.articlesCount})}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t,articles:[],max:0})}})),this.root=(e,t)=>X(this,void 0,void 0,(function*(){return yield this.updateState(e,"",t)})),this.feed=(e,t)=>X(this,void 0,void 0,(function*(){return yield this.updateState(e,"feed",t)})),this.tag=(e,t,n)=>X(this,void 0,void 0,(function*(){return yield this.updateState(e,"tag",n,t)})),this.updateArticle=(e,t)=>(e.articles=e.articles.map(e=>e.slug===t.slug?t:e),e)}}J([Object(i.e)("#/")],ee.prototype,"root",void 0),J([Object(i.e)("#/feed")],ee.prototype,"feed",void 0),J([Object(i.e)("#/tag")],ee.prototype,"tag",void 0),J([Object(i.e)("update-article")],ee.prototype,"updateArticle",void 0);(new ee).mount("my-app");var te=function({errors:e}){return i.d.createElement("ul",{class:"error-messages"},Object.keys(e).map(t=>i.d.createElement("li",null,`${t} ${e[t]}`)))},ne=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},re=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class se extends i.a{constructor(){super(...arguments),this.state={},this.view=e=>{if(e&&!(e instanceof Promise))return i.d.createElement("div",{class:"auth-page"},i.d.createElement("div",{class:"container page"},i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-md-6 offset-md-3 col-xs-12"},i.d.createElement("h1",{class:"text-xs-center"},"Sign In"),i.d.createElement("p",{class:"text-xs-center"},i.d.createElement("a",{href:"#/register"},"Need an account?")),e.errors&&i.d.createElement(te,{errors:e.errors}),i.d.createElement("form",{onsubmit:e=>this.run("sign-in",e)},i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),i.d.createElement("button",{class:"btn btn-lg btn-primary pull-xs-right"},"Sign In"))))))},this.login=e=>Object.assign(Object.assign({},e),{messages:[],returnTo:document.location.hash}),this.logout=e=>{i.d.run("/set-user",null),document.location.hash="#/"},this.signIn=(e,t)=>re(this,void 0,void 0,(function*(){try{t.preventDefault();const n=yield R(j(t.target));i.d.run("/set-user",n.user);const r=(e.returnTo||"").replace(/\#\/login\/?/,"");r?(i.d.run("route",r),history.pushState(null,null,r)):document.location.hash="#/feed"}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}}))}}ne([Object(i.e)("#/login")],se.prototype,"login",void 0),ne([Object(i.e)("#/logout")],se.prototype,"logout",void 0),ne([Object(i.e)("sign-in")],se.prototype,"signIn",void 0);(new se).mount("my-app");var ie=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},oe=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class ae extends i.a{constructor(){super(...arguments),this.state={},this.view=e=>{if(e&&!(e instanceof Promise))return i.d.createElement("div",{class:"auth-page"},i.d.createElement("div",{class:"container page"},i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-md-6 offset-md-3 col-xs-12"},i.d.createElement("h1",{class:"text-xs-center"},"Sign Up"),i.d.createElement("p",{class:"text-xs-center"},i.d.createElement("a",{href:"#/login"},"Have an account?")),e.errors&&i.d.createElement(te,{errors:e.errors}),i.d.createElement("form",{onsubmit:e=>this.run("register",e)},i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username"})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email"})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password"})),i.d.createElement("button",{class:"btn btn-lg btn-primary pull-xs-right"},"Sign up"))))))},this.register=(e,t)=>Object.assign(Object.assign({},e),{messages:t}),this.submitRegistration=(e,t)=>oe(this,void 0,void 0,(function*(){try{t.preventDefault();const e=yield C(j(t.target));i.d.run("#user",e.user),i.d.run("route","#/")}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}}))}}ie([Object(i.e)("#/register")],ae.prototype,"register",void 0),ie([Object(i.e)("register")],ae.prototype,"submitRegistration",void 0);(new ae).mount("my-app");var le=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},ce=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class ue extends i.a{constructor(){super(...arguments),this.state={name:"",type:"articles",articles:[],page:1},this.view=e=>{const t=e.profile;if(t)return i.d.createElement("div",{class:"profile-page"},i.d.createElement("div",{class:"user-info"},i.d.createElement("div",{class:"container"},i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-xs-12 col-md-10 offset-md-1"},i.d.createElement("img",{src:t.image,class:"user-img"}),i.d.createElement("h4",null,t.username),i.d.createElement("p",null,t.bio),i.d.createElement("button",{class:"btn btn-sm btn-outline-secondary action-btn",onclick:e=>i.d.run("/toggle-follow",t,this)},t.following?i.d.createElement("span",null,i.d.createElement("i",{class:"ion-minus-round"})," Unfollow ",t.username):i.d.createElement("span",null,i.d.createElement("i",{class:"ion-plus-round"})," Follow ",t.username)))))),i.d.createElement("div",{class:"container"},i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-xs-12 col-md-10 offset-md-1"},i.d.createElement("div",{class:"articles-toggle"},i.d.createElement("ul",{class:"nav nav-pills outline-active"},i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:`nav-link ${"articles"===e.type?"active":""}`,href:`#/profile/${t.username}/articles/1`},"My Articles")),i.d.createElement("li",{class:"nav-item"},i.d.createElement("a",{class:`nav-link ${"favorites"===e.type?"active":""}`,href:`#/profile/${t.username}/favorites/1`},"Favorited Articles")))),i.d.createElement(G,{articles:e.articles,component:this}),i.d.createElement(Y,{max:Math.floor(e.max/10),selected:e.page,link:`#/profile/${e.profile.username}/${e.type}`})))))},this.updateState=(e,t,n,r)=>ce(this,void 0,void 0,(function*(){t=decodeURIComponent(t||e.name),n=n||e.type,r=parseInt(r)||e.page;let s=e;if(t!==e.name){const e=yield Z(t);s=Object.assign(Object.assign({},s),{profile:e.profile})}if(t!==e.name||n!==e.type||r!==e.page){const e=10,i=(r-1)*e,o="favorites"===n?yield D({favorited:t,offset:i,limit:e}):yield D({author:t,offset:i,limit:e});s=Object.assign(Object.assign({},s),{name:t,type:n,page:r,articles:o.articles,max:o.articlesCount})}return s})),this.root=(e,t,n,r)=>this.updateState(e,t,n,r),this.updateArticle=(e,t)=>(e.articles=e.articles.map(e=>e.slug===t.slug?t:e),e),this.updateFollow=(e,t)=>Object.assign(Object.assign({},e),{profile:t})}}le([Object(i.e)("#/profile")],ue.prototype,"root",void 0),le([Object(i.e)("update-article")],ue.prototype,"updateArticle",void 0),le([Object(i.e)("update-follow")],ue.prototype,"updateFollow",void 0);(new ue).mount("my-app");var de=function({title:e,body:t,ok:n,cancel:r,onOK:s,onCancel:o}){return i.d.createElement("div",{class:"modal-open"},i.d.createElement("div",{class:"modal-dialog",role:"document"},i.d.createElement("div",{class:"modal-content"},i.d.createElement("div",{class:"modal-header"},i.d.createElement("h5",{class:"modal-title"},e,i.d.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onclick:e=>o(e)},i.d.createElement("span",{"aria-hidden":"true"},"×")))),i.d.createElement("div",{class:"modal-body"},i.d.createElement("p",null,t)),i.d.createElement("div",{class:"modal-footer"},r&&i.d.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onclick:e=>o(e)},r),"  ",i.d.createElement("button",{type:"button",class:"btn btn-primary",onclick:e=>s(e)},n)))),i.d.createElement("div",{class:"modal-backdrop show",onclick:e=>o(e)}))},he=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},pe=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class me extends i.a{constructor(){super(...arguments),this.state={},this.view=e=>{const t=e.user;if(t)return i.d.createElement("div",{class:"settings-page"},e.showModal?i.d.createElement(de,{title:"Confirmation",body:"Your settings has been updated successfully.",ok:"OK",cancel:"Cancel",onOK:e=>this.run("ok",e),onCancel:e=>this.run("cancel",e)}):"",i.d.createElement("div",{class:"container page"},i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-md-6 offset-md-3 col-xs-12"},e.errors&&i.d.createElement(te,{errors:e.errors}),i.d.createElement("h1",{class:"text-xs-center"},"Your Settings"),i.d.createElement("form",{onsubmit:e=>this.run("submit-settings",e)},i.d.createElement("fieldset",null,i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control",type:"text",placeholder:"URL of profile picture",name:"image",value:t.image})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Your Name",name:"username",value:t.username})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("textarea",{class:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",name:"bio"},t.bio)),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",value:t.email})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",value:t.password})),i.d.createElement("button",{class:"btn btn-lg btn-primary pull-xs-right"},"Update Settings")))))))},this.settings=e=>{if(T())return{user:i.d.user}},this.submitSettings=(e,t)=>pe(this,void 0,void 0,(function*(){try{t.preventDefault();const e=j(t.target),n=yield P(e);return i.d.run("#user",n.user),{showModal:!0}}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}})),this.ok=e=>({showModel:!1})}}he([Object(i.e)("#/settings")],me.prototype,"settings",void 0),he([Object(i.e)("submit-settings")],me.prototype,"submitSettings",void 0),he([Object(i.e)("ok, cancel")],me.prototype,"ok",void 0);(new me).mount("my-app");var fe=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},ge=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class be extends i.a{constructor(){super(...arguments),this.state={},this.view=e=>{if(!i.d.user||!e.article)return;const t=e.article;return i.d.createElement("div",{class:"editor-page"},i.d.createElement("div",{class:"container page"},i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-md-10 offset-md-1 col-xs-12"},e.errors&&i.d.createElement(te,{errors:e.errors}),i.d.createElement("form",{onsubmit:e=>this.run("submit-article",e)},t.slug&&i.d.createElement("input",{type:"hidden",name:"slug",value:t.slug}),i.d.createElement("fieldset",null,i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article Title",name:"title",value:t.title})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{type:"text",class:"form-control",placeholder:"What's this article about?",name:"description",value:t.description})),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("textarea",{class:"form-control",rows:"8",placeholder:"Write your article (in markdown)",name:"body"},t.body)),i.d.createElement("fieldset",{class:"form-group"},i.d.createElement("input",{type:"text",class:"form-control",placeholder:"Enter tags",name:"tags",value:t.tagList.join(", ")}),i.d.createElement("div",{class:"tag-list"})),i.d.createElement("button",{class:"btn btn-lg pull-xs-right btn-primary",type:"submit"},"Publish Article")))))))},this.root=(e,t)=>ge(this,void 0,void 0,(function*(){if(!T())return;let e;if(t){e=(yield L(t)).article}return e=e||{title:"",description:"",body:"",tagList:[]},{article:e}})),this.submitArticle=(e,t)=>ge(this,void 0,void 0,(function*(){try{t.preventDefault();const e=j(t.target);e.tagList=e.tags.split(",");const n=e.slug?yield q(e):yield W(e);document.location.hash=`#/article/${n.article.slug}`}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}}))}}fe([Object(i.e)("#/editor")],be.prototype,"root",void 0),fe([Object(i.e)("submit-article")],be.prototype,"submitArticle",void 0);(new be).mount("my-app");var ye=n(3);function ve({comment:e}){return i.d.createElement("div",{class:"card"},i.d.createElement("div",{class:"card-block"},i.d.createElement("p",{class:"card-text"},i.d.createElement("p",null,`_html:${ye(e.body,{sanitize:!0})}`))),i.d.createElement("div",{class:"card-footer"},i.d.createElement("a",{class:"comment-author"},i.d.createElement("img",{src:e.author.image,class:"comment-author-img"}))," ",i.d.createElement("a",{class:"comment-author",href:`#/profile/${e.author.username}`},e.author.username),i.d.createElement("span",{class:"date-posted"},new Date(e.createdAt).toLocaleString()),i.d.user&&i.d.user.username===e.author.username&&i.d.createElement("span",{class:"mod-options"},i.d.createElement("i",{class:"ion-trash-a",onclick:t=>i.d.run("/delete-comment",e)}))))}var we=function({comments:e}){const t=i.d.user;return i.d.createElement("div",{class:"row"},i.d.createElement("div",{class:"col-xs-12 col-md-8 offset-md-2"},t?i.d.createElement("form",{class:"card comment-form",onsubmit:e=>i.d.run("/new-comment",e)},i.d.createElement("div",{class:"card-block"},i.d.createElement("textarea",{class:"form-control",placeholder:"Write a comment...",rows:"3",name:"comment"})),i.d.createElement("div",{class:"card-footer"},t.image?i.d.createElement("img",{src:t.image,class:"comment-author-img"}):i.d.createElement("span",null,"@",t.username),i.d.createElement("button",{class:"btn btn-sm btn-primary",type:"submit"},"Post Comment"))):i.d.createElement("p",null,i.d.createElement("a",{href:`#/login/${document.location.hash}`},"Sign in")," or ",i.d.createElement("a",{href:"#/register"},"sign up")," to add comments on this article."),e.map(e=>i.d.createElement(ve,{comment:e}))))};function Ee({article:e,component:t}){const n=e.favorited?"btn-primary":"btn-outline-primary",r=e.author.following?"btn-secondary":"btn-outline-secondary";return i.d.createElement("div",{class:"article-meta"},i.d.createElement("a",{href:e.author.image},i.d.createElement("img",{src:e.author.image})),i.d.createElement("div",{class:"info"},i.d.createElement("a",{href:`#/profile/${e.author.username}`,class:"author"},e.author.username),i.d.createElement("span",{class:"date"},new Date(e.updatedAt).toLocaleString())),i.d.user&&i.d.user.username===e.author.username?i.d.createElement("span",null,i.d.createElement("button",{class:"btn btn-sm btn-outline-secondary",onclick:n=>t.run("edit-article",e)},i.d.createElement("i",{class:"ion-edit"}),"  Edit Article"),i.d.createElement("button",{class:"btn btn-sm btn-outline-secondary",onclick:n=>t.run("own-article",e)},i.d.createElement("i",{class:"ion-ios-download-outline"}),"  Own Article"),"  ",i.d.createElement("button",{class:"btn btn-sm btn-outline-danger",onclick:n=>t.run("delete-article",e)},i.d.createElement("i",{class:"ion-trash-o"}),"  Delete Article")):i.d.createElement("span",null,i.d.createElement("button",{class:`btn btn-sm ${r}`,onclick:n=>i.d.run("/toggle-follow",e.author,t)},e.author.following?i.d.createElement("span",null,i.d.createElement("i",{class:"ion-minus-round"})," Unfollow ",e.author.username):i.d.createElement("span",null,i.d.createElement("i",{class:"ion-plus-round"})," Follow ",e.author.username))," ","  ",i.d.createElement("button",{class:`btn btn-sm ${n}`,onclick:n=>i.d.run("/toggle-fav-article",e,t)},i.d.createElement("i",{class:"ion-heart"}),"  Favorite Post ",i.d.createElement("span",{class:"counter"},"(",e.favoritesCount,")"))))}var _e=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},xe=function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class ke extends i.a{constructor(){super(...arguments),this.state={article:null,comments:[]},this.view=e=>{const t=e.article;if(t)return i.d.createElement("div",{class:"article-page"},e.deleting&&i.d.createElement(de,{title:"Delete Article",body:"Are you sure you want to delete this article?",ok:"Delete",cancel:"No",onOK:e=>this.run("ok-delete-article",e),onCancel:e=>this.run("cancel-delete-article",e)}),i.d.createElement("div",{class:"banner"},i.d.createElement("div",{class:"container"},i.d.createElement("h1",null,t.title),i.d.createElement(Ee,{article:t,component:this}))),i.d.createElement("div",{class:"container page"},i.d.createElement("div",{class:"row article-content"},i.d.createElement("div",{class:"col-md-12"},i.d.createElement("p",null,`_html:${ye(t.body,{sanitize:!0})}`),i.d.createElement("div",{class:"tag-list"},i.d.createElement("br",null),t.tagList.map(e=>i.d.createElement("li",{class:"tag-default tag-pill tag-outline"},i.d.createElement("a",{href:`#/tag/${e}`},e," ")))))),i.d.createElement("hr",null),i.d.createElement("div",{class:"article-actions"},i.d.createElement(Ee,{article:t,component:this})),i.d.createElement(we,{comments:e.comments})),i.d.createElement("b",null,{article:t}))},this.root=(e,t)=>xe(this,void 0,void 0,(function*(){let n=e.article,r=e.comments;if(!n||n.slug!==t){n=(yield L(t)).article,r=(yield B(n.slug)).comments}return Object.assign(Object.assign({},e),{article:n,comments:r})})),this.newComment=(e,t)=>xe(this,void 0,void 0,(function*(){try{t.preventDefault();const n=t.target.comment.value;if(!n)return;yield F(e.article.slug,{body:n});const r=yield B(e.article.slug);return Object.assign(Object.assign({},e),{comments:r.comments})}catch({errors:t}){return Object.assign(Object.assign({},e),{errors:t})}})),this.deleteComment=(e,t)=>xe(this,void 0,void 0,(function*(){yield I(this.state.article.slug,t.id);const n=yield B(e.article.slug);return Object.assign(Object.assign({},e),{comments:n.comments})})),this.updateArticle=(e,t)=>Object.assign(Object.assign({},e),{article:t}),this.updateFollow=(e,t)=>(e.article.author=t,e),this.editArticle=(e,t)=>{document.location.hash=`#/editor/${t.slug}`},this.deleteArticle=(e,t)=>Object.assign(Object.assign({},e),{deleting:!0}),this.okDelete=(e,t)=>(z(e.article.slug),document.location.hash="#/",Object.assign(Object.assign({},e),{deleting:!1})),this.cancelDelete=(e,t)=>Object.assign(Object.assign({},e),{deleting:!1}),this.ownArticle=(e,t)=>{console.log(t);ye(t.body,{sanitize:!0});let n={a:t.slug,t:t.title,s:t.createdAt,ps:{author:t.author.username}};return console.log(n),localStorage[n.a]=JSON.stringify(n),Object.assign(Object.assign({},e),{owned:!0})}}}_e([Object(i.e)("#/article")],ke.prototype,"root",void 0),_e([Object(i.e)("/new-comment")],ke.prototype,"newComment",void 0),_e([Object(i.e)("/delete-comment")],ke.prototype,"deleteComment",void 0),_e([Object(i.e)("update-article")],ke.prototype,"updateArticle",void 0),_e([Object(i.e)("update-follow")],ke.prototype,"updateFollow",void 0),_e([Object(i.e)("edit-article")],ke.prototype,"editArticle",void 0),_e([Object(i.e)("delete-article")],ke.prototype,"deleteArticle",void 0),_e([Object(i.e)("ok-delete-article")],ke.prototype,"okDelete",void 0),_e([Object(i.e)("cancel-delete-article")],ke.prototype,"cancelDelete",void 0),_e([Object(i.e)("own-article")],ke.prototype,"ownArticle",void 0);(new ke).mount("my-app");const Oe={title:"HyperBlog Pilot built with AppRun ",element:"my-app",nav:[{text:"Home",link:"/README"}],sidebar:[],layout:({title:e,element:t,nav:n,sidebar:r})=>i.d.createElement(i.d.Fragment,null,i.d.createElement("nav",{class:"main-nav",markdown:"0"},i.d.createElement("a",{class:"nav-title",href:"/"},e),i.d.createElement("div",{class:"flex"}),i.d.createElement("div",{id:"header"}),n.map(e=>i.d.createElement("a",{class:"nav-item",href:e.link},e.text)),i.d.createElement("a",{class:"icon",href:"https://github.com/apprunjs/apprun-starter",title:"GitHub"},i.d.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentcolor"},i.d.createElement("path",{d:"M12,2C6.48,2,2,6.59,2,12.25c0,4.53,2.87,8.37,6.84,9.73c0.5,0.09,0.68-0.22,0.68-0.49c0-0.24-0.01-0.89-0.01-1.74c-2.78,0.62-3.37-1.37-3.37-1.37c-0.45-1.18-1.11-1.5-1.11-1.5c-0.91-0.64,0.07-0.62,0.07-0.62c1,0.07,1.53,1.06,1.53,1.06c0.89,1.57,2.34,1.11,2.91,0.85c0.09-0.66,0.35-1.11,0.63-1.37c-2.22-0.26-4.56-1.14-4.56-5.07c0-1.12,0.39-2.03,1.03-2.75c-0.1-0.26-0.45-1.3,0.1-2.71c0,0,0.84-0.28,2.75,1.05c0.8-0.23,1.65-0.34,2.5-0.34c0.85,0,1.7,0.12,2.5,0.34c1.91-1.33,2.75-1.05,2.75-1.05c0.55,1.41,0.2,2.45,0.1,2.71c0.64,0.72,1.03,1.63,1.03,2.75c0,3.94-2.34,4.81-4.57,5.06c0.36,0.32,0.68,0.94,0.68,1.9c0,1.37-0.01,2.48-0.01,2.81c0,0.27,0.18,0.59,0.69,0.49c3.97-1.36,6.83-5.2,6.83-9.73C22,6.59,17.52,2,12,2"})))),i.d.createElement("main",{class:"wrapper"},i.d.createElement("nav",{class:"side-nav"},i.d.createElement("button",{id:"toggleNavButton"},"Menu"),i.d.createElement("ul",null,r.map(e=>i.d.createElement("li",null,i.d.createElement("a",{href:e.link},e.text))))),i.d.createElement("article",{id:t}))),pages:h,eventRoot:"#"};s.a.start(Oe),i.d.run("/get-user")}]);
//# sourceMappingURL=app.js.map